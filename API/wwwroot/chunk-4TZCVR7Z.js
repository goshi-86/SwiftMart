import{a as A,c as W}from"./chunk-FBUVEHXF.js";import{a as M}from"./chunk-T5IYFGN7.js";import{b as w}from"./chunk-W4S356MX.js";import{b as T,d as D,e as H,f,g as S,j as C,l as K,m as F,n as y,p as N,r as g,t as G,u as Q,x as L}from"./chunk-K2W3CTWJ.js";import{h as z,ia as x,j as h}from"./chunk-XAZAGRYG.js";import"./chunk-JGYM447R.js";import{Cb as E,Db as B,Fb as U,Gb as P,Hb as o,Ib as i,Jb as p,Qb as v,Sb as R,Vb as J,ac as a,bc as I,cb as l,cc as $,db as O,ic as d,ka as s,oa as c,vb as _,xb as u}from"./chunk-XJECHS7E.js";var X=(()=>{let t=class t{constructor(){this.fb=s(N),this.accountService=s(w),this.router=s(h),this.activatedRoute=s(z),this.returnUrl="/shop",this.loginForm=this.fb.group({email:[""],password:[""]});let n=this.activatedRoute.snapshot.queryParams.returnUrl;n&&(this.returnUrl=n)}onSubmit(){this.accountService.login(this.loginForm.value).subscribe({next:()=>{this.accountService.getUserInfo().subscribe(),this.router.navigateByUrl(this.returnUrl)}})}onSubmit2(){this.accountService}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=c({type:t,selectors:[["app-login"]],standalone:!0,features:[d],decls:15,vars:1,consts:[[1,"max-w-lg","mx-auto","mt-32","p-8","bg-white"],[3,"ngSubmit","formGroup"],[1,"text-center","mb-6"],[1,"text-3xl","font-semibold","text-primary"],["appearance","outline",1,"w-full","mb-4"],["formControlName","email","type","email","placeholder","name@example.com","matInput",""],["formControlName","password","type","password","placeholder","Password","matInput",""],["mat-flat-button","","type","submit",1,"w-full","py-2"]],template:function(r,m){r&1&&(o(0,"mat-card",0)(1,"form",1),v("ngSubmit",function(){return m.onSubmit()}),o(2,"div",2)(3,"h1",3),a(4,"Login"),i()(),o(5,"mat-form-field",4)(6,"mat-label"),a(7,"Email address"),i(),p(8,"input",5),i(),o(9,"mat-form-field",4)(10,"mat-label"),a(11,"Password"),i(),p(12,"input",6),i(),o(13,"button",7),a(14,"Sign in"),i()()()),r&2&&(l(),u("formGroup",m.loginForm))},dependencies:[g,C,T,f,S,F,y,M,L,A,G,x]});let e=t;return e})();function et(e,t){if(e&1&&(o(0,"mat-error"),a(1),i()),e&2){let b=R();l(),$("",b.label," is required")}}function it(e,t){e&1&&(o(0,"mat-error"),a(1,"Email is invalid"),i())}var j=(()=>{let t=class t{constructor(n){this.controlDir=n,this.label="",this.type="text",this.controlDir.valueAccessor=this}writeValue(n){}registerOnChange(n){}registerOnTouched(n){}get control(){return this.controlDir.control}};t.\u0275fac=function(r){return new(r||t)(O(H,2))},t.\u0275cmp=c({type:t,selectors:[["app-text-input"]],inputs:{label:"label",type:"type"},standalone:!0,features:[d],decls:6,vars:6,consts:[["appearance","outline",1,"w-full","mb-4"],["matInput","",3,"formControl","type","placeholder"]],template:function(r,m){r&1&&(o(0,"mat-form-field",0)(1,"mat-label"),a(2),i(),p(3,"input",1),_(4,et,2,1,"mat-error")(5,it,2,0,"mat-error"),i()),r&2&&(l(2),I(m.label),l(),J("type",m.type),J("placeholder",m.label),u("formControl",m.control),l(),E(m.control.hasError("required")?4:-1),l(),E(m.control.hasError("email")?5:-1))},dependencies:[g,T,f,K,L,A,Q,G]});let e=t;return e})();function ot(e,t){if(e&1&&(o(0,"li"),a(1),i()),e&2){let b=t.$implicit;l(),I(b)}}function rt(e,t){if(e&1&&(o(0,"div",8)(1,"ul",10),U(2,ot,2,1,"li",null,B),i()()),e&2){let b=R();l(2),P(b.validationErrors)}}var Y=(()=>{let t=class t{constructor(){this.fb=s(N),this.accountService=s(w),this.router=s(h),this.snack=s(W),this.registerForm=this.fb.group({firstName:["",D.required],lastName:["",D.required],email:["",[D.required,D.email]],password:["",D.required]})}onSubmit(){this.accountService.register(this.registerForm.value).subscribe({next:()=>{this.snack.success("Registration successful - you can now login"),this.router.navigateByUrl("/account/login")},error:n=>this.validationErrors=n})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=c({type:t,selectors:[["app-register"]],standalone:!0,features:[d],decls:12,vars:3,consts:[[1,"max-w-lg","mx-auto","mt-32","p-8","bg-white"],[3,"ngSubmit","formGroup"],[1,"text-center","mb-6"],[1,"text-3xl","font-semibold","text-primary"],["label","First name","formControlName","firstName"],["label","Last name","formControlName","lastName"],["label","Email address","formControlName","email"],["label","Password","formControlName","password","type","password"],[1,"mb-3","p-4","bg-red-100","text-red-600"],["mat-flat-button","","type","submit",1,"w-full","py-2",3,"disabled"],[1,"list-disc","px-3"]],template:function(r,m){r&1&&(o(0,"mat-card",0)(1,"form",1),v("ngSubmit",function(){return m.onSubmit()}),o(2,"div",2)(3,"h1",3),a(4,"Register"),i()(),p(5,"app-text-input",4)(6,"app-text-input",5)(7,"app-text-input",6)(8,"app-text-input",7),_(9,rt,4,0,"div",8),o(10,"button",9),a(11,"Register"),i()()()),r&2&&(l(),u("formGroup",m.registerForm),l(8),E(m.validationErrors?9:-1),l(),u("disabled",m.registerForm.invalid))},dependencies:[g,C,f,S,F,y,M,x,j]});let e=t;return e})();function nt(e,t){if(e&1&&(o(0,"li"),a(1),i()),e&2){let b=t.$implicit;l(),I(b)}}function at(e,t){if(e&1&&(o(0,"div",8)(1,"ul",10),U(2,nt,2,1,"li",null,B),i()()),e&2){let b=R();l(2),P(b.validationErrors)}}var Z=(()=>{let t=class t{constructor(){this.fb=s(N),this.accountService=s(w),this.router=s(h),this.registerationForm=this.fb.group({firstName:[""],lastName:[""],email:[""],password:[""]})}btnRegister(){this.accountService.register(this.registerationForm.value).subscribe({next:n=>{this.router.navigateByUrl("/account/login")},error:n=>this.validationErrors=n})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=c({type:t,selectors:[["app-account-registration"]],standalone:!0,features:[d],decls:12,vars:2,consts:[[1,"max-w-lg","mx-auto","mt-32","p-8","bg-white"],[3,"ngSubmit","formGroup"],[1,"text-center","mb-6"],[1,"text-3xl","font-semibold","text-primary"],["label","First name","formControlName","firstName"],["label","Last name","formControlName","lastName"],["label","Email address","formControlName","email"],["label","Password","formControlName","password","type","password"],[1,"mb-3","p-4","bg-red-100","text-red-600"],["type","submit","mat-flat-button","",1,"w-full","py-2"],[1,"list-disc","px-3"]],template:function(r,m){r&1&&(o(0,"mat-card",0)(1,"form",1),v("ngSubmit",function(){return m.btnRegister()}),o(2,"div",2)(3,"h1",3),a(4,"Register"),i()(),p(5,"app-text-input",4)(6,"app-text-input",5)(7,"app-text-input",6)(8,"app-text-input",7),_(9,at,4,0,"div",8),o(10,"button",9),a(11," Register "),i()()()),r&2&&(l(),u("formGroup",m.registerationForm),l(8),E(m.validationErrors?9:-1))},dependencies:[g,C,f,S,F,y,M,x,j]});let e=t;return e})();var tt=(()=>{let t=class t{constructor(){this.fb=s(N),this.router=s(h),this.accountService=s(w),this.loginForm=this.fb.group({email:[""],password:[""]})}onSubmit(){this.accountService.login(this.loginForm.value).subscribe({next:n=>{this.accountService.getUserInfo().subscribe({next:()=>{this.router.navigate(["/"])}})}})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=c({type:t,selectors:[["app-user-login"]],standalone:!0,features:[d],decls:15,vars:1,consts:[[1,"max-w-lg","mx-auto","mt-32","p-8","bg-white"],[3,"ngSubmit","formGroup"],[1,"text-center","mb-6"],[1,"text-3xl","font-semibold","text-primary"],["appearance","outline",1,"w-full","mb-4"],["formControlName","email","type","email","placeholder","name@example.com","matInput",""],["formControlName","password","type","password","placeholder","Password","matInput",""],["mat-flat-button","","type","submit",1,"w-full","py-2"]],template:function(r,m){r&1&&(o(0,"mat-card",0)(1,"form",1),v("ngSubmit",function(){return m.onSubmit()}),o(2,"div",2)(3,"h1",3),a(4,"Login"),i()(),o(5,"mat-form-field",4)(6,"mat-label"),a(7,"Email address"),i(),p(8,"input",5),i(),o(9,"mat-form-field",4)(10,"mat-label"),a(11,"Password"),i(),p(12,"input",6),i(),o(13,"button",7),a(14,"Sign in"),i()()()),r&2&&(l(),u("formGroup",m.loginForm))},dependencies:[g,C,T,f,S,F,y,M,L,A,G,x]});let e=t;return e})();var te=[{path:"login",component:X},{path:"register",component:Y},{path:"accountRegister",component:Z},{path:"userLogin",component:tt}];export{te as accountRoutes};
